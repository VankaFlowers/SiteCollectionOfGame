@using MySite.Models.GameDescription
@model GameDescriptionModel




<main class="container mt-5">
    <h1>@Model.GameName</h1>
    <h2>Genre: @Model.GenreName</h2>
    <ul class="list-group">
        @foreach (var publisher in Model.GamePublishers)
        {
            <li class="list-group-item">
                <h3>Publisher: @publisher.Publisher.PublisherName</h3>
                <ul class="list-group">
                    @foreach (var gamePlatform in publisher.GamePlatforms)
                    {
                        <li class="list-group-item">
                            <h4>Platform: @gamePlatform.Platform.PlatformName</h4>
                            <h5>Release Year: @gamePlatform.ReleaseYear</h5>
                            <table class="table table-striped mt-2">
                                <thead>
                                    <tr>
                                        <th>Sales(mln)</th>
                                        <th>Region</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var regionsale in Model.RegionSales.Where(e => e.GamePlatformId == gamePlatform.Id))
                                    {
                                        <tr>
                                            <td>@regionsale.NumSales</td>
                                            <td>@regionsale.Region.RegionName</td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </li>
                    }
                </ul>
            </li>
        }
    </ul>
</main>




